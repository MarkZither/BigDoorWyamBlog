<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <title>Netlify CMS</title>
    <!-- Include the styles for the Netlify CMS UI, after your own styles -->
    <link rel="stylesheet" href="https://unpkg.com/netlify-cms@^2.0.0/dist/cms.css" />
</head>

<body>
    <h2>Manage</h2>
    <!-- Include the script that builds the page and powers Netlify CMS -->
    <script src="https://unpkg.com/netlify-cms@^2.0.0/dist/netlify-cms.js"></script>

    <script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>
    <script>
    CMS.registerEditorComponent({
        label: 'Image',
  id: 'image',
  fromBlock: match =>
    match && {
      image: match[2],
      alt: match[1],
      title: match[4],
    },
  toBlock: ({ alt, image, title }) =>
    `![${alt || ''}](${image != null ? image.substring(1) : ''}${title ? ` "${title.replace(/"/g, '\\"')}"` : ''}){.img-fluid .img-responsive}`,
  // eslint-disable-next-line react/display-name
  toPreview: ({ alt, image, title }, getAsset) => (
    `<img src=${getAsset(image) || ''} alt=${alt || ''} title=${title || ''} {.img-fluid .img-responsive}/>`
  ),
  pattern: /^!\[(.*)\]\((.*?)(\s"(.*)")?\){\.img-fluid \.img-responsive}$/,
  fields: [
    {
      label: 'Image',
      name: 'image',
      widget: 'image',
      media_library: {
        allow_multiple: false,
      },
    },
    {
      label: 'Alt Text',
      name: 'alt',
    },
    {
      label: 'Title',
      name: 'title',
    },
  ],
});    
    </script>
</body>

</html>
